
<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>manuals-publisher: Current state - GOV.UK Developer Documentation</title>

    <link href="/stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://docs.publishing.service.gov.uk/apps/manuals-publisher/current-state.html">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="docs.publishing.service.gov.uk" />
      <meta name="twitter:image" content="https://docs.publishing.service.gov.uk/images/govuk-large.png" />
      <meta name="twitter:title" content="manuals-publisher: Current state - GOV.UK Developer Documentation" />
      <meta name="twitter:url" content="https://docs.publishing.service.gov.uk/apps/manuals-publisher/current-state.html" />

      <meta property="og:image" content="https://docs.publishing.service.gov.uk/images/govuk-large.png" />
      <meta property="og:site_name" content="GOV.UK Developer Documentation" />
      <meta property="og:title" content="manuals-publisher: Current state" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://docs.publishing.service.gov.uk/apps/manuals-publisher/current-state.html" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="/" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__logotype">
          <svg
            aria-hidden="true"
            focusable="false"
            class="govuk-header__logotype-crown"
            xmlns="http://www.w3.org/2000/svg"
            viewbox="0 0 132 97"
            height="30"
            width="36"
          >
            <path
              fill="currentColor" fill-rule="evenodd"
              d="M25 30.2c3.5 1.5 7.7-.2 9.1-3.7 1.5-3.6-.2-7.8-3.9-9.2-3.6-1.4-7.6.3-9.1 3.9-1.4 3.5.3 7.5 3.9 9zM9 39.5c3.6 1.5 7.8-.2 9.2-3.7 1.5-3.6-.2-7.8-3.9-9.1-3.6-1.5-7.6.2-9.1 3.8-1.4 3.5.3 7.5 3.8 9zM4.4 57.2c3.5 1.5 7.7-.2 9.1-3.8 1.5-3.6-.2-7.7-3.9-9.1-3.5-1.5-7.6.3-9.1 3.8-1.4 3.5.3 7.6 3.9 9.1zm38.3-21.4c3.5 1.5 7.7-.2 9.1-3.8 1.5-3.6-.2-7.7-3.9-9.1-3.6-1.5-7.6.3-9.1 3.8-1.3 3.6.4 7.7 3.9 9.1zm64.4-5.6c-3.6 1.5-7.8-.2-9.1-3.7-1.5-3.6.2-7.8 3.8-9.2 3.6-1.4 7.7.3 9.2 3.9 1.3 3.5-.4 7.5-3.9 9zm15.9 9.3c-3.6 1.5-7.7-.2-9.1-3.7-1.5-3.6.2-7.8 3.7-9.1 3.6-1.5 7.7.2 9.2 3.8 1.5 3.5-.3 7.5-3.8 9zm4.7 17.7c-3.6 1.5-7.8-.2-9.2-3.8-1.5-3.6.2-7.7 3.9-9.1 3.6-1.5 7.7.3 9.2 3.8 1.3 3.5-.4 7.6-3.9 9.1zM89.3 35.8c-3.6 1.5-7.8-.2-9.2-3.8-1.4-3.6.2-7.7 3.9-9.1 3.6-1.5 7.7.3 9.2 3.8 1.4 3.6-.3 7.7-3.9 9.1zM69.7 17.7l8.9 4.7V9.3l-8.9 2.8c-.2-.3-.5-.6-.9-.9L72.4 0H59.6l3.5 11.2c-.3.3-.6.5-.9.9l-8.8-2.8v13.1l8.8-4.7c.3.3.6.7.9.9l-5 15.4v.1c-.2.8-.4 1.6-.4 2.4 0 4.1 3.1 7.5 7 8.1h.2c.3 0 .7.1 1 .1.4 0 .7 0 1-.1h.2c4-.6 7.1-4.1 7.1-8.1 0-.8-.1-1.7-.4-2.4V34l-5.1-15.4c.4-.2.7-.6 1-.9zM66 92.8c16.9 0 32.8 1.1 47.1 3.2 4-16.9 8.9-26.7 14-33.5l-9.6-3.4c1 4.9 1.1 7.2 0 10.2-1.5-1.4-3-4.3-4.2-8.7L108.6 76c2.8-2 5-3.2 7.5-3.3-4.4 9.4-10 11.9-13.6 11.2-4.3-.8-6.3-4.6-5.6-7.9 1-4.7 5.7-5.9 8-.5 4.3-8.7-3-11.4-7.6-8.8 7.1-7.2 7.9-13.5 2.1-21.1-8 6.1-8.1 12.3-4.5 20.8-4.7-5.4-12.1-2.5-9.5 6.2 3.4-5.2 7.9-2 7.2 3.1-.6 4.3-6.4 7.8-13.5 7.2-10.3-.9-10.9-8-11.2-13.8 2.5-.5 7.1 1.8 11 7.3L80.2 60c-4.1 4.4-8 5.3-12.3 5.4 1.4-4.4 8-11.6 8-11.6H55.5s6.4 7.2 7.9 11.6c-4.2-.1-8-1-12.3-5.4l1.4 16.4c3.9-5.5 8.5-7.7 10.9-7.3-.3 5.8-.9 12.8-11.1 13.8-7.2.6-12.9-2.9-13.5-7.2-.7-5 3.8-8.3 7.1-3.1 2.7-8.7-4.6-11.6-9.4-6.2 3.7-8.5 3.6-14.7-4.6-20.8-5.8 7.6-5 13.9 2.2 21.1-4.7-2.6-11.9.1-7.7 8.8 2.3-5.5 7.1-4.2 8.1.5.7 3.3-1.3 7.1-5.7 7.9-3.5.7-9-1.8-13.5-11.2 2.5.1 4.7 1.3 7.5 3.3l-4.7-15.4c-1.2 4.4-2.7 7.2-4.3 8.7-1.1-3-.9-5.3 0-10.2l-9.5 3.4c5 6.9 9.9 16.7 14 33.5 14.8-2.1 30.8-3.2 47.7-3.2z"
            ></path>
            <image src="/assets/images/govuk-logotype-crown.png" xlink:href="" class="govuk-header__logotype-crown-fallback-image" width="36" height="32"></image>
          </svg>
          <span class="govuk-header__logotype-text">
            GOV.UK
          </span>
        </span>
        <span class="govuk-header__product-name">
          Developer docs
        </span>
      </a>
    </div>
    <div class="govuk-header__content">
      <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" aria-label="Show or hide Top Level Navigation">Menu</button>
      <nav>
        <ul id="navigation" class="govuk-header__navigation govuk-header__navigation--end" aria-label="Top Level Navigation">
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/">Dashboard</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/manual/get-started.html">Get started</a>
            </li>
            <li class="govuk-header__navigation-item govuk-header__navigation-item--active">
              <a class="govuk-header__link" href="/apps.html">Apps</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/manual.html">Manual</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/content-schemas.html">Schemas</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/document-types.html">Document types</a>
            </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <a href="#toc" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </a>
        </div>

      <div class="app-pane__body">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents">
              <div class="search" data-module="search">
  <form action="https://www.google.co.uk/search" method="get" role="search">
    <input type="hidden" name="as_sitesearch" value="https://docs.publishing.service.gov.uk"/>
    <label class="govuk-label search__label" for="search">
      Search (via Google)
    </label>
    <input class="govuk-input govuk-!-margin-bottom-4" id="search" name="q" type="text" aria-controls="search-results" placeholder="Search">
  </form>
  <div id="search-results" class="search-results" aria-hidden="true" role="dialog" aria-labelledby="search-results-title">
    <div class="search-results__inner">
      <button class="search-results__close">Close<span class="search-results__close-label"> search results</span></button>
      <h2 id="search-results-title" class="search-results__title" aria-live="polite">Results</h2>
      <div class="search-results__content"></div>
    </div>
  </div>
</div>

              <a href="#" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></a>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
                  <ul>
    <li>
      <a href="/apps/asset-manager.html"><span>asset-manager</span></a>
    </li>
    <li>
      <a href="/apps/authenticating-proxy.html"><span>authenticating-proxy</span></a>
    </li>
    <li>
      <a href="/apps/bouncer.html"><span>bouncer</span></a>
    </li>
    <li>
      <a href="/apps/business-support-api.html"><span>business-support-api</span></a>
    </li>
    <li>
      <a href="/apps/business-support-finder.html"><span>business-support-finder</span></a>
        <ul>
        </ul>
    </li>
    <li>
      <a href="/apps/cache-clearing-service.html"><span>cache-clearing-service</span></a>
    </li>
    <li>
      <a href="/apps/calculators.html"><span>calculators</span></a>
    </li>
    <li>
      <a href="/apps/calendars.html"><span>calendars</span></a>
        <ul>
        </ul>
    </li>
    <li>
      <a href="/apps/ckanext-datagovuk.html"><span>ckanext-datagovuk</span></a>
        <ul>
            <li><a href="/apps/ckanext-datagovuk/migration_runsheet.html"><span>CKAN release rehearsal</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/collections.html"><span>collections</span></a>
        <ul>
            <li><a href="/apps/collections/api.html"><span>Collections API</span></a></li>
            <li><a href="/apps/collections/update-covid-local-restriction-data.html"><span>Update COVID Local Restriction Data</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/collections-publisher.html"><span>collections-publisher</span></a>
        <ul>
            <li><a href="/apps/collections-publisher/coronavirus_page_publishing_tool.html"><span># Coronavirus Publishing Tool</span></a></li>
            <li><a href="/apps/collections-publisher/reslugging-a-tag.html"><span>Changing the slug of a Tag or Topic</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/contacts-admin.html"><span>contacts-admin</span></a>
    </li>
    <li>
      <a href="/apps/contacts-frontend.html"><span>contacts-frontend</span></a>
    </li>
    <li>
      <a href="/apps/content-data-admin.html"><span>content-data-admin</span></a>
    </li>
    <li>
      <a href="/apps/content-data-api.html"><span>content-data-api</span></a>
    </li>
    <li>
      <a href="/apps/content-publisher.html"><span>content-publisher</span></a>
        <ul>
            <li><a href="/apps/content-publisher/approach-to-analytics.html"><span>Approach to Analytics</span></a></li>
            <li><a href="/apps/content-publisher/edit-change-note-history.html"><span>Editing a document's change history</span></a></li>
            <li><a href="/apps/content-publisher/history-mode.html"><span>History mode</span></a></li>
            <li><a href="/apps/content-publisher/import-from-whitehall.html"><span>Importing documents from Whitehall to Content Publisher</span></a></li>
            <li><a href="/apps/content-publisher/removing-documents.html"><span>Removing or removing and redirecting a document</span></a></li>
            <li><a href="/apps/content-publisher/scheduled-publishing.html"><span>Scheduled publishing</span></a></li>
            <li><a href="/apps/content-publisher/testing-strategy.html"><span>Testing Strategy</span></a></li>
            <li><a href="/apps/content-publisher/user-permissions.html"><span>User Permissions</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/content-store.html"><span>content-store</span></a>
        <ul>
            <li><a href="/apps/content-store/content_item_fields.html"><span>The Content Item Format</span></a></li>
            <li><a href="/apps/content-store/gone_item.html"><span># Gone items</span></a></li>
            <li><a href="/apps/content-store/placeholder_item.html"><span># Placeholder items</span></a></li>
            <li><a href="/apps/content-store/publish_intents.html"><span>Publish intents</span></a></li>
            <li><a href="/apps/content-store/redirect_item.html"><span># Redirect items</span></a></li>
            <li><a href="/apps/content-store/route_registration.html"><span># Registering routes with the router.</span></a></li>
            <li><a href="/apps/content-store/technical-information.html"><span># Content items</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/content-tagger.html"><span>content-tagger</span></a>
        <ul>
        </ul>
    </li>
    <li>
      <a href="/apps/datagovuk_find.html"><span>datagovuk_find</span></a>
    </li>
    <li>
      <a href="/apps/datagovuk_publish.html"><span>datagovuk_publish</span></a>
        <ul>
        </ul>
    </li>
    <li>
      <a href="/apps/datagovuk_reference.html"><span>datagovuk_reference</span></a>
    </li>
    <li>
      <a href="/apps/design-principles.html"><span>design-principles</span></a>
    </li>
    <li>
      <a href="/apps/email-alert-api.html"><span>email-alert-api</span></a>
        <ul>
            <li><a href="/apps/email-alert-api/analytics.html"><span>Analytics</span></a></li>
            <li><a href="/apps/email-alert-api/api.html"><span>Available endpoints</span></a></li>
            <li><a href="/apps/email-alert-api/data-cleanup-mechanisms.html"><span>Data cleanup mechanisms</span></a></li>
            <li><a href="/apps/email-alert-api/env-vars.html"><span>ENV vars</span></a></li>
            <li><a href="/apps/email-alert-api/matching-content-to-subscriber-lists.html"><span>Matching content to subscriber lists</span></a></li>
            <li><a href="/apps/email-alert-api/support-tasks.html"><span>Support tasks</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/email-alert-frontend.html"><span>email-alert-frontend</span></a>
        <ul>
        </ul>
    </li>
    <li>
      <a href="/apps/email-alert-service.html"><span>email-alert-service</span></a>
    </li>
    <li>
      <a href="/apps/feedback.html"><span>feedback</span></a>
        <ul>
            <li><a href="/apps/feedback/assisted_digital_feedback.html"><span>Assisted Digital Feedback</span></a></li>
            <li><a href="/apps/feedback/email_survey_signups.html"><span>Email Survey Signups</span></a></li>
            <li><a href="/apps/feedback/notify_template_parameters.html"><span>Notify template parameters</span></a></li>
            <li><a href="/apps/feedback/testing_with_real_authorization.html"><span>Manual testing with real authorisation</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/finder-frontend.html"><span>finder-frontend</span></a>
        <ul>
            <li><a href="/apps/finder-frontend/analytics.html"><span>Analytics</span></a></li>
            <li><a href="/apps/finder-frontend/brexit-checker-content-changes.html"><span>Make changes to Transition Checker content</span></a></li>
            <li><a href="/apps/finder-frontend/brexit-checker.html"><span>Brexit Checker</span></a></li>
            <li><a href="/apps/finder-frontend/faceted-search.html"><span>faceted-search</span></a></li>
            <li><a href="/apps/finder-frontend/finder-content-item.html"><span>The Finder Content Item Format</span></a></li>
            <li><a href="/apps/finder-frontend/finder-email-alerts.html"><span>Finder email alerts</span></a></li>
            <li><a href="/apps/finder-frontend/how-search-works.html"><span>How search works</span></a></li>
            <li><a href="/apps/finder-frontend/pull_request_template.html"><span>pull_request_template</span></a></li>
            <li><a href="/apps/finder-frontend/registries.html"><span>Registries</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/frontend.html"><span>frontend</span></a>
    </li>
    <li>
      <a href="/apps/government-frontend.html"><span>government-frontend</span></a>
        <ul>
            <li><a href="/apps/government-frontend/webchat.html"><span>Webchat Component</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/govuk-alert-tracker.html"><span>govuk-alert-tracker</span></a>
    </li>
    <li>
      <a href="/apps/govuk-content-store-examples.html"><span>govuk-content-store-examples</span></a>
    </li>
    <li>
      <a href="/apps/govuk-delivery.html"><span>govuk-delivery</span></a>
    </li>
    <li>
      <a href="/apps/govuk-dependencies.html"><span>govuk-dependencies</span></a>
    </li>
    <li>
      <a href="/apps/govuk-display-screen.html"><span>govuk-display-screen</span></a>
        <ul>
        </ul>
    </li>
    <li>
      <a href="/apps/govuk-load-testing.html"><span>govuk-load-testing</span></a>
        <ul>
            <li><a href="/apps/govuk-load-testing/combining_concurrent_test_results.html"><span>Combining Concurrent Test Results</span></a></li>
            <li><a href="/apps/govuk-load-testing/uploading.html"><span>Uploading results</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/govuk-pact-broker.html"><span>govuk-pact-broker</span></a>
    </li>
    <li>
      <a href="/apps/govuk-puppet.html"><span>govuk-puppet</span></a>
        <ul>
            <li><a href="/apps/govuk-puppet/README.html"><span>Docs</span></a></li>
            <li><a href="/apps/govuk-puppet/adding-a-new-app.html"><span>adding-a-new-app</span></a></li>
            <li><a href="/apps/govuk-puppet/dependency-management.html"><span>Dependency management</span></a></li>
            <li><a href="/apps/govuk-puppet/nagios-checks.html"><span>Nagios checks</span></a></li>
            <li><a href="/apps/govuk-puppet/process-supervision.html"><span>Process supervision</span></a></li>
            <li><a href="/apps/govuk-puppet/puppet-class-assigment.html"><span>Puppet Class Assignment</span></a></li>
            <li><a href="/apps/govuk-puppet/things-that-should-not-be-in-puppet.html"><span>Things that should not be in Puppet</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/govuk-related-links-recommender.html"><span>govuk-related-links-recommender</span></a>
        <ul>
        </ul>
    </li>
    <li>
      <a href="/apps/govuk-secondline-blinken.html"><span>govuk-secondline-blinken</span></a>
    </li>
    <li>
      <a href="/apps/govuk-zendesk-display-screen.html"><span>govuk-zendesk-display-screen</span></a>
        <ul>
        </ul>
    </li>
    <li>
      <a href="/apps/govuk_content_api.html"><span>govuk_content_api</span></a>
    </li>
    <li>
      <a href="/apps/govuk_need_api.html"><span>govuk_need_api</span></a>
    </li>
    <li>
      <a href="/apps/hmrc-manuals-api.html"><span>hmrc-manuals-api</span></a>
        <ul>
            <li><a href="/apps/hmrc-manuals-api/extended_documentation.html"><span>HMRC Manuals API - Extended Documentation</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/imminence.html"><span>imminence</span></a>
    </li>
    <li>
      <a href="/apps/info-frontend.html"><span>info-frontend</span></a>
    </li>
    <li>
      <a href="/apps/licence-finder.html"><span>licence-finder</span></a>
    </li>
    <li>
      <a href="/apps/link-checker-api.html"><span>link-checker-api</span></a>
        <ul>
            <li><a href="/apps/link-checker-api/api.html"><span>Link Checker API's API</span></a></li>
            <li><a href="/apps/link-checker-api/blitz.html"><span>End of blitz summary - April 2017</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/local-links-manager.html"><span>local-links-manager</span></a>
        <ul>
            <li><a href="/apps/local-links-manager/adding-a-new-lgsl-code.html"><span>Adding a new LGSL code</span></a></li>
            <li><a href="/apps/local-links-manager/checking-links.html"><span>Checking Links</span></a></li>
            <li><a href="/apps/local-links-manager/deleting-a-link.html"><span>Deleting a local transaction link</span></a></li>
            <li><a href="/apps/local-links-manager/exporting-local-authority-links.html"><span>Exporting Local Authority links to services</span></a></li>
            <li><a href="/apps/local-links-manager/google_analytics_custom_import.html"><span>Authorisation for Google Analytics custom import</span></a></li>
            <li><a href="/apps/local-links-manager/importing-local-authorities-data.html"><span>Importing Local Authorities data</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/manuals-frontend.html"><span>manuals-frontend</span></a>
    </li>
    <li>
      <a href="/apps/manuals-publisher.html"><span>manuals-publisher</span></a>
        <ul>
            <li><a href="/apps/manuals-publisher/current-state.html" class="toc-link--in-view"><span>Current state</span></a></li>
            <li><a href="/apps/manuals-publisher/fully-migrated-spike.html"><span>Fully-migrated spike</span></a></li>
            <li><a href="/apps/manuals-publisher/history.html"><span>History</span></a></li>
            <li><a href="/apps/manuals-publisher/next-steps.html"><span>Next steps</span></a></li>
            <li><a href="/apps/manuals-publisher/rake-tasks.html"><span>Rake tasks</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/mapit.html"><span>mapit</span></a>
    </li>
    <li>
      <a href="/apps/maslow.html"><span>maslow</span></a>
    </li>
    <li>
      <a href="/apps/metadata-api.html"><span>metadata-api</span></a>
    </li>
    <li>
      <a href="/apps/multipage-frontend.html"><span>multipage-frontend</span></a>
        <ul>
            <li><a href="/apps/multipage-frontend/caching-strategies.html"><span>## Overview</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/organisations-publisher.html"><span>organisations-publisher</span></a>
    </li>
    <li>
      <a href="/apps/panopticon.html"><span>panopticon</span></a>
        <ul>
        </ul>
    </li>
    <li>
      <a href="/apps/policy-publisher.html"><span>policy-publisher</span></a>
        <ul>
        </ul>
    </li>
    <li>
      <a href="/apps/publisher.html"><span>publisher</span></a>
    </li>
    <li>
      <a href="/apps/publishing-api.html"><span>publishing-api</span></a>
        <ul>
            <li><a href="/apps/publishing-api/admin-tasks.html"><span>Admin Tasks</span></a></li>
            <li><a href="/apps/publishing-api/api.html"><span>Publishing API's API</span></a></li>
            <li><a href="/apps/publishing-api/dependency-resolution.html"><span>Dependency Resolution</span></a></li>
            <li><a href="/apps/publishing-api/link-expansion.html"><span>Link Expansion</span></a></li>
            <li><a href="/apps/publishing-api/model.html"><span>Publishing API's Model</span></a></li>
            <li><a href="/apps/publishing-api/pact_testing.html"><span>Contract testing with Pact</span></a></li>
            <li><a href="/apps/publishing-api/publishing-application-examples.html"><span>Publishing application examples</span></a></li>
            <li><a href="/apps/publishing-api/rabbitmq.html"><span>RabbitMQ</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/release.html"><span>release</span></a>
        <ul>
            <li><a href="/apps/release/api.html"><span>Release API</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/router.html"><span>router</span></a>
    </li>
    <li>
      <a href="/apps/router-api.html"><span>router-api</span></a>
    </li>
    <li>
      <a href="/apps/seal.html"><span>seal</span></a>
    </li>
    <li>
      <a href="/apps/search-admin.html"><span>search-admin</span></a>
        <ul>
        </ul>
    </li>
    <li>
      <a href="/apps/search-analytics.html"><span>search-analytics</span></a>
    </li>
    <li>
      <a href="/apps/search-api.html"><span>search-api</span></a>
        <ul>
            <li><a href="/apps/search-api/adding-new-fields.html"><span>Adding new fields to a document type</span></a></li>
            <li><a href="/apps/search-api/content-api.html"><span>Content API</span></a></li>
            <li><a href="/apps/search-api/content_overview.html"><span>Content in the search index and where it comes from</span></a></li>
            <li><a href="/apps/search-api/documents.html"><span>Documents API (to be deprecated)</span></a></li>
            <li><a href="/apps/search-api/how-search-works.html"><span>How Search Works</span></a></li>
            <li><a href="/apps/search-api/indexing.html"><span>Indexing</span></a></li>
            <li><a href="/apps/search-api/learning-to-rank.html"><span>learning-to-rank</span></a></li>
            <li><a href="/apps/search-api/new-indexing-process.html"><span>Moving a format to the new indexing process</span></a></li>
            <li><a href="/apps/search-api/popularity.html"><span>Popularity information</span></a></li>
            <li><a href="/apps/search-api/publishing-finders.html"><span>Publishing finders</span></a></li>
            <li><a href="/apps/search-api/relevancy.html"><span>Relevancy</span></a></li>
            <li><a href="/apps/search-api/schemas.html"><span>Schema definitions</span></a></li>
            <li><a href="/apps/search-api/search-api.html"><span>Using the search API</span></a></li>
            <li><a href="/apps/search-api/search-quality-metrics.html"><span>Search Quality Metrics</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/search-performance-explorer.html"><span>search-performance-explorer</span></a>
    </li>
    <li>
      <a href="/apps/service-manual-frontend.html"><span>service-manual-frontend</span></a>
    </li>
    <li>
      <a href="/apps/service-manual-publisher.html"><span>service-manual-publisher</span></a>
    </li>
    <li>
      <a href="/apps/short-url-manager.html"><span>short-url-manager</span></a>
    </li>
    <li>
      <a href="/apps/side-by-side-browser.html"><span>side-by-side-browser</span></a>
    </li>
    <li>
      <a href="/apps/side-by-side-browser.html"><span>side-by-side-browser</span></a>
    </li>
    <li>
      <a href="/apps/signon.html"><span>signon</span></a>
        <ul>
            <li><a href="/apps/signon/mass_password_reset.html"><span>mass_password_reset</span></a></li>
            <li><a href="/apps/signon/oauth.html"><span>Sign-On-O-Tron and OAuth2</span></a></li>
            <li><a href="/apps/signon/troubleshooting.html"><span> Troubleshooting</span></a></li>
            <li><a href="/apps/signon/usage.html"><span>Usage Documentation</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/smart-answers.html"><span>smart-answers</span></a>
    </li>
    <li>
      <a href="/apps/specialist-frontend.html"><span>specialist-frontend</span></a>
        <ul>
        </ul>
    </li>
    <li>
      <a href="/apps/specialist-publisher.html"><span>specialist-publisher</span></a>
        <ul>
            <li><a href="/apps/specialist-publisher/acceptance-testing.html"><span># Acceptance Testing</span></a></li>
            <li><a href="/apps/specialist-publisher/creating-a-new-specialist-document-type.html"><span>Creating a new specialist document format</span></a></li>
            <li><a href="/apps/specialist-publisher/email-alerts.html"><span># Email Alerts</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/static.html"><span>static</span></a>
        <ul>
            <li><a href="/apps/static/analytics.html"><span>Analytics</span></a></li>
            <li><a href="/apps/static/emergency-banner.html"><span>Emergency banner</span></a></li>
            <li><a href="/apps/static/global-banner.html"><span># Global banner</span></a></li>
            <li><a href="/apps/static/humans.html"><span>humans.txt</span></a></li>
            <li><a href="/apps/static/image-optimisation.html"><span>Image optimisation</span></a></li>
            <li><a href="/apps/static/slimmer_templates.html"><span>Slimmer Templates</span></a></li>
            <li><a href="/apps/static/surveys.html"><span>Running test surveys on GOV.UK</span></a></li>
            <li><a href="/apps/static/test-ecommerce-changes-to-static.html"><span>test-ecommerce-changes-to-static</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/support.html"><span>support</span></a>
    </li>
    <li>
      <a href="/apps/support-api.html"><span>support-api</span></a>
    </li>
    <li>
      <a href="/apps/tech-docs-monitor.html"><span>tech-docs-monitor</span></a>
    </li>
    <li>
      <a href="/apps/transition.html"><span>transition</span></a>
    </li>
    <li>
      <a href="/apps/travel-advice-publisher.html"><span>travel-advice-publisher</span></a>
        <ul>
            <li><a href="/apps/travel-advice-publisher/error-monitoring-for-travel-advice-alerts.html"><span>Error Monitoring for Travel Advice Alerts</span></a></li>
            <li><a href="/apps/travel-advice-publisher/further-technical-information.html"><span># Further technical information</span></a></li>
            <li><a href="/apps/travel-advice-publisher/publish_and_notification_workflow.html"><span>Publish and Notification Workflow</span></a></li>
        </ul>
    </li>
    <li>
      <a href="/apps/whitehall.html"><span>whitehall</span></a>
        <ul>
            <li><a href="/apps/whitehall/api.html"><span>Whitehall API</span></a></li>
            <li><a href="/apps/whitehall/css.html"><span>Whitehall CSS Styleguide</span></a></li>
            <li><a href="/apps/whitehall/edition_workflow.html"><span>Edition Workflow</span></a></li>
            <li><a href="/apps/whitehall/finders.html"><span>Finders</span></a></li>
            <li><a href="/apps/whitehall/internationalisation_guide.html"><span>Internationalisation guide</span></a></li>
            <li><a href="/apps/whitehall/javascript.html"><span>Whitehall JavaScript</span></a></li>
            <li><a href="/apps/whitehall/link_checker_api_integration.html"><span>Link Checker API Integrations</span></a></li>
            <li><a href="/apps/whitehall/search_setup_guide.html"><span>Search setup guide</span></a></li>
            <li><a href="/apps/whitehall/testing_guide.html"><span>Testing Guide</span></a></li>
            <li><a href="/apps/whitehall/timestamps.html"><span>Timestamps</span></a></li>
        </ul>
    </li>
  </ul>

              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
              <div class="govuk-!-font-size-16 govuk-!-margin-top-6">
    <div class="govuk-warning-text">
      <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
      <strong class="govuk-warning-text__text">
        <span class="govuk-warning-text__assistive">Warning</span>
        This document has not been updated for a while now. It may be out of date.
      </strong>
    </div>

  Last updated: <a href="https://github.com/alphagov/manuals-publisher/commit/d3e7753370975e3f59c6fbfc33a5a946e2c61480">16 Jan 2018</a>
</div>

  <h1 class="page-title">manuals-publisher: Current state</h1>

  
<h2 id="overview">Overview</h2>
<p>The purpose of the Manuals Publisher application is to allow content editors to update Manuals - a type of long-form document.</p>
<p>The domain model for the application is quite simple. A <code>Manual</code> is composed of many <code>Section</code>s. Both the <code>Manual</code> and the <code>Section</code> have a version history which is known in the code base as an Edition (<code>ManualRecord::Edition</code> and <code>SectionEdition</code> concretely). Looking at editions of manuals and sections allows citizens to see when a document has changed in a significant way.</p>
<p>Sections can have file <code>Attachment</code>s. Publishing a manual makes a call to the Publishing API (which updates the search index via Rummager). For historical reasons the application maintains its own state in MongoDB. The local state <em>should</em> reflect the state of the Publishing API's database at any particular time, although the application itself doesn't enforce this. A user of the application sees data read from the local MongoDB database, not the Publishing API.</p>
<h2 id="models">Models</h2>
<p>The following diagram illustrates the associations between the models in the application</p>
<p><img src="https://raw.githubusercontent.com/alphagov/manuals-publisher/master/docs/diagram.png" alt="Class relationship diagram"></p>
<p>This application models the "domain" and the "persistence" for Manuals and Sections separately. Unfortunately this separation is not rigidly and consistently held throughout the application</p>
<ul>
<li>A "plain Ruby" class <code>Manual</code> is responsible for persisting its data into <code>ManualRecord</code> and <code>ManualRecord::Edition</code>.</li>
<li>A "plain Ruby" class <code>Section</code> is responsible for persisting its data into <code>SectionEdition</code>.</li>
<li>There is no section equivalent of <code>ManualRecord</code> (e.g. <code>SectionRecord</code>); the concept of a section is only persisted by one or more <code>SectionEdition</code>s having a specific <code>section_uuid</code>.</li>
<li>A <code>SectionEdition</code>'s attachments are modelled using Mongoid's <code>embeds_many</code> association (in the underlying database, they are stored as a nested array of objects under <code>SectionEdition</code>).</li>
<li>Some associations between objects are not modelled using Mongoid association methods (<code>has_many</code>, <code>embeds_many</code>, etc.) but rather rely on the presence of foreign keys, or arrays of foreign keys. For example the association between a <code>ManualRecord::Edition</code> and <code>Section</code> is via an array of <code>section_uuids</code>.</li>
<li>It is not possible to explicitly determine which edition of a section belongs to which edition of a manual, although this can be determined implicitly for the first and last edition of a manual.</li>
</ul>
<h2 id="controllers">Controllers</h2>
<p>The application has three controllers, one for each of the main domain objects in the application - <code>ManualsController</code>, <code>SectionsController</code> and <code>SectionAttachmentsController</code>. These controllers are largely unsurprising. Most of the logic for each controller action is encapsulated in Service objects.</p>
<h2 id="services">Services</h2>
<p><code>Service</code> classes in the <code>app/services</code> directories (not to be confused with the Services module in <code>lib/services.rb</code>) contain the logic for creating and updating Mongoid models, logging events and interacting with the Publishing API.</p>
<p>If you need to perform an action from outside of the context of a controller, for example in a one-off Rake task, ideally you should <code>call</code> a method on a Service instance as this ensures the correct sequence of side-effects.</p>
<h2 id="adapters">Adapters</h2>
<p>The Adapter classes encapsulate the API calls to 2 external APIs: The (version 2) <a href="https://github.com/alphagov/publishing-api">Publishing API</a> and the Organisations API. These Adapters should be used in preference to making API calls directly from scripts and services.</p>
<p>The classes serve as application-specific wrappers around the <a href="https://github.com/alphagov/gds-api-adapters">GDS API adapters</a>. The idea is that methods on adapters should accept and return instances of domain models and not Hashes/JSON. The translation between domain model objects and Hashes/JSON (and vice versa) should only happen inside the adapters.</p>
<h2 id="linkcheckerapi">LinkCheckerAPI</h2>
<p>The <code>link-checker-api</code> has been integrated on the show page for both Manuals and Sections. It extracts all links from within any GovSpeak fields and sends them to the <code>/batch</code> endpoint of the API. In this request it also sends across a <code>webhook_callback</code> which then populates any information about broken/warning links. More reading about the endpoints can be found <a href="https://docs.publishing.service.gov.uk/apis/link-checker-api.html">here</a></p>
<h2 id="rake-tasks">Rake tasks</h2>
<p>A small number of Rake tasks exist. These perform actions that are not exposed via the user interface, or are required to be infrequently run (for example report generation). Some commonly used Rake tasks are <a href="/apps/manuals-publisher/rake-tasks.html">documented separately</a>.</p>


            
          </main>

          <aside>
              <ul class="contribution-banner">
                <li><a href="https://github.com/alphagov/manuals-publisher/blob/master/docs/current-state.md">View source</a></li>
                <li><a href="https://github.com/alphagov/govuk-developer-docs/issues/new?labels=bug&amp;title=Re:%20''&amp;body=Problem%20with%20''%20(https://docs.publishing.service.gov.uk/apps/manuals-publisher/current-state.html)">Report problem</a></li>
                <li><a href="https://github.com/alphagov/govuk-developer-docs">GitHub Repo</a></li>
              </ul>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">

        <ul class="govuk-footer__inline-list">
            <li class="govuk-footer__inline-list-item">
              <a class="govuk-footer__link" href="/accessibility.html">Accessibility</a>
            </li>
        </ul>

      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="/javascripts/application.js"></script>
  </body>
</html>
