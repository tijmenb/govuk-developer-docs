
<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>Application: government-frontend - GOV.UK Developer Documentation</title>

    <link href="/stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://docs.publishing.service.gov.uk/apps/government-frontend.html">

      <meta name="description" content="Everything about the government-frontend application (Serves government pages on GOV.UK)" />
      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="docs.publishing.service.gov.uk" />
      <meta name="twitter:image" content="https://docs.publishing.service.gov.uk/images/govuk-large.png" />
      <meta name="twitter:title" content="Application: government-frontend - GOV.UK Developer Documentation" />
      <meta name="twitter:url" content="https://docs.publishing.service.gov.uk/apps/government-frontend.html" />

      <meta property="og:description" content="Everything about the government-frontend application (Serves government pages on GOV.UK)" />
      <meta property="og:image" content="https://docs.publishing.service.gov.uk/images/govuk-large.png" />
      <meta property="og:site_name" content="GOV.UK Developer Documentation" />
      <meta property="og:title" content="Application: government-frontend" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://docs.publishing.service.gov.uk/apps/government-frontend.html" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="/" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__logotype">
          <svg
            aria-hidden="true"
            focusable="false"
            class="govuk-header__logotype-crown"
            xmlns="http://www.w3.org/2000/svg"
            viewbox="0 0 132 97"
            height="30"
            width="36"
          >
            <path
              fill="currentColor" fill-rule="evenodd"
              d="M25 30.2c3.5 1.5 7.7-.2 9.1-3.7 1.5-3.6-.2-7.8-3.9-9.2-3.6-1.4-7.6.3-9.1 3.9-1.4 3.5.3 7.5 3.9 9zM9 39.5c3.6 1.5 7.8-.2 9.2-3.7 1.5-3.6-.2-7.8-3.9-9.1-3.6-1.5-7.6.2-9.1 3.8-1.4 3.5.3 7.5 3.8 9zM4.4 57.2c3.5 1.5 7.7-.2 9.1-3.8 1.5-3.6-.2-7.7-3.9-9.1-3.5-1.5-7.6.3-9.1 3.8-1.4 3.5.3 7.6 3.9 9.1zm38.3-21.4c3.5 1.5 7.7-.2 9.1-3.8 1.5-3.6-.2-7.7-3.9-9.1-3.6-1.5-7.6.3-9.1 3.8-1.3 3.6.4 7.7 3.9 9.1zm64.4-5.6c-3.6 1.5-7.8-.2-9.1-3.7-1.5-3.6.2-7.8 3.8-9.2 3.6-1.4 7.7.3 9.2 3.9 1.3 3.5-.4 7.5-3.9 9zm15.9 9.3c-3.6 1.5-7.7-.2-9.1-3.7-1.5-3.6.2-7.8 3.7-9.1 3.6-1.5 7.7.2 9.2 3.8 1.5 3.5-.3 7.5-3.8 9zm4.7 17.7c-3.6 1.5-7.8-.2-9.2-3.8-1.5-3.6.2-7.7 3.9-9.1 3.6-1.5 7.7.3 9.2 3.8 1.3 3.5-.4 7.6-3.9 9.1zM89.3 35.8c-3.6 1.5-7.8-.2-9.2-3.8-1.4-3.6.2-7.7 3.9-9.1 3.6-1.5 7.7.3 9.2 3.8 1.4 3.6-.3 7.7-3.9 9.1zM69.7 17.7l8.9 4.7V9.3l-8.9 2.8c-.2-.3-.5-.6-.9-.9L72.4 0H59.6l3.5 11.2c-.3.3-.6.5-.9.9l-8.8-2.8v13.1l8.8-4.7c.3.3.6.7.9.9l-5 15.4v.1c-.2.8-.4 1.6-.4 2.4 0 4.1 3.1 7.5 7 8.1h.2c.3 0 .7.1 1 .1.4 0 .7 0 1-.1h.2c4-.6 7.1-4.1 7.1-8.1 0-.8-.1-1.7-.4-2.4V34l-5.1-15.4c.4-.2.7-.6 1-.9zM66 92.8c16.9 0 32.8 1.1 47.1 3.2 4-16.9 8.9-26.7 14-33.5l-9.6-3.4c1 4.9 1.1 7.2 0 10.2-1.5-1.4-3-4.3-4.2-8.7L108.6 76c2.8-2 5-3.2 7.5-3.3-4.4 9.4-10 11.9-13.6 11.2-4.3-.8-6.3-4.6-5.6-7.9 1-4.7 5.7-5.9 8-.5 4.3-8.7-3-11.4-7.6-8.8 7.1-7.2 7.9-13.5 2.1-21.1-8 6.1-8.1 12.3-4.5 20.8-4.7-5.4-12.1-2.5-9.5 6.2 3.4-5.2 7.9-2 7.2 3.1-.6 4.3-6.4 7.8-13.5 7.2-10.3-.9-10.9-8-11.2-13.8 2.5-.5 7.1 1.8 11 7.3L80.2 60c-4.1 4.4-8 5.3-12.3 5.4 1.4-4.4 8-11.6 8-11.6H55.5s6.4 7.2 7.9 11.6c-4.2-.1-8-1-12.3-5.4l1.4 16.4c3.9-5.5 8.5-7.7 10.9-7.3-.3 5.8-.9 12.8-11.1 13.8-7.2.6-12.9-2.9-13.5-7.2-.7-5 3.8-8.3 7.1-3.1 2.7-8.7-4.6-11.6-9.4-6.2 3.7-8.5 3.6-14.7-4.6-20.8-5.8 7.6-5 13.9 2.2 21.1-4.7-2.6-11.9.1-7.7 8.8 2.3-5.5 7.1-4.2 8.1.5.7 3.3-1.3 7.1-5.7 7.9-3.5.7-9-1.8-13.5-11.2 2.5.1 4.7 1.3 7.5 3.3l-4.7-15.4c-1.2 4.4-2.7 7.2-4.3 8.7-1.1-3-.9-5.3 0-10.2l-9.5 3.4c5 6.9 9.9 16.7 14 33.5 14.8-2.1 30.8-3.2 47.7-3.2z"
            ></path>
            <image src="/assets/images/govuk-logotype-crown.png" xlink:href="" class="govuk-header__logotype-crown-fallback-image" width="36" height="32"></image>
          </svg>
          <span class="govuk-header__logotype-text">
            GOV.UK
          </span>
        </span>
        <span class="govuk-header__product-name">
          Developer docs
        </span>
      </a>
    </div>
    <div class="govuk-header__content">
      <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" aria-label="Show or hide Top Level Navigation">Menu</button>
      <nav>
        <ul id="navigation" class="govuk-header__navigation govuk-header__navigation--end" aria-label="Top Level Navigation">
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/">Dashboard</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/manual/get-started.html">Get started</a>
            </li>
            <li class="govuk-header__navigation-item govuk-header__navigation-item--active">
              <a class="govuk-header__link" href="/apps.html">Apps</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/manual.html">Manual</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/content-schemas.html">Schemas</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/document-types.html">Document types</a>
            </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <a href="#toc" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </a>
        </div>

      <div class="app-pane__body">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents">
              <div class="search" data-module="search">
  <form action="https://www.google.co.uk/search" method="get" role="search">
    <input type="hidden" name="as_sitesearch" value="https://docs.publishing.service.gov.uk"/>
    <label class="govuk-label search__label" for="search">
      Search (via Google)
    </label>
    <input class="govuk-input govuk-!-margin-bottom-4" id="search" name="q" type="text" aria-controls="search-results" placeholder="Search">
  </form>
  <div id="search-results" class="search-results" aria-hidden="true" role="dialog" aria-labelledby="search-results-title">
    <div class="search-results__inner">
      <button class="search-results__close">Close<span class="search-results__close-label"> search results</span></button>
      <h2 id="search-results-title" class="search-results__title" aria-live="polite">Results</h2>
      <div class="search-results__content"></div>
    </div>
  </div>
</div>

              <a href="#" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></a>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
                  <ul>
    <li>
      <a href="/apps/by-team.html">
        <span>Application ownership by team</span>
      </a>
    </li>

      <li>
        <a href="/apps.html">
          <span>APIs</span>
        </a>
      </li>
      <li>
        <ul class='subnav'>
          <li><a href="/apps/asset-manager.html"><span>asset-manager</span></a></li>
          <li><a href="/apps/content-store.html"><span>content-store</span></a></li>
          <li><a href="/apps/email-alert-api.html"><span>email-alert-api</span></a></li>
          <li><a href="/apps/hmrc-manuals-api.html"><span>hmrc-manuals-api</span></a></li>
          <li><a href="/apps/imminence.html"><span>imminence</span></a></li>
          <li><a href="/apps/link-checker-api.html"><span>link-checker-api</span></a></li>
          <li><a href="/apps/mapit.html"><span>mapit</span></a></li>
          <li><a href="/apps/publishing-api.html"><span>publishing-api</span></a></li>
          <li><a href="/apps/router-api.html"><span>router-api</span></a></li>
          <li><a href="/apps/search-api.html"><span>search-api</span></a></li>
          <li><a href="/apps/support-api.html"><span>support-api</span></a></li>
        </ul>
      </li>
      <li>
        <a href="/apps.html">
          <span>Supporting apps</span>
        </a>
      </li>
      <li>
        <ul class='subnav'>
          <li><a href="/apps/authenticating-proxy.html"><span>authenticating-proxy</span></a></li>
          <li><a href="/apps/content-data-admin.html"><span>content-data-admin</span></a></li>
          <li><a href="/apps/content-data-api.html"><span>content-data-api</span></a></li>
          <li><a href="/apps/govuk-load-testing.html"><span>govuk-load-testing</span></a></li>
          <li><a href="/apps/release.html"><span>release</span></a></li>
          <li><a href="/apps/router.html"><span>router</span></a></li>
          <li><a href="/apps/search-admin.html"><span>search-admin</span></a></li>
          <li><a href="/apps/signon.html"><span>signon</span></a></li>
          <li><a href="/apps/support.html"><span>support</span></a></li>
        </ul>
      </li>
      <li>
        <a href="/apps.html">
          <span>Transition apps</span>
        </a>
      </li>
      <li>
        <ul class='subnav'>
          <li><a href="/apps/bouncer.html"><span>bouncer</span></a></li>
          <li><a href="/apps/side-by-side-browser.html"><span>side-by-side-browser</span></a></li>
          <li><a href="/apps/transition.html"><span>transition</span></a></li>
        </ul>
      </li>
      <li>
        <a href="/apps.html">
          <span>Services</span>
        </a>
      </li>
      <li>
        <ul class='subnav'>
          <li><a href="/apps/cache-clearing-service.html"><span>cache-clearing-service</span></a></li>
          <li><a href="/apps/email-alert-service.html"><span>email-alert-service</span></a></li>
          <li><a href="/apps/search-analytics.html"><span>search-analytics</span></a></li>
        </ul>
      </li>
      <li>
        <a href="/apps.html">
          <span>Frontend apps</span>
        </a>
      </li>
      <li>
        <ul class='subnav'>
          <li><a href="/apps/calculators.html"><span>calculators</span></a></li>
          <li><a href="/apps/collections.html"><span>collections</span></a></li>
          <li><a href="/apps/email-alert-frontend.html"><span>email-alert-frontend</span></a></li>
          <li><a href="/apps/feedback.html"><span>feedback</span></a></li>
          <li><a href="/apps/finder-frontend.html"><span>finder-frontend</span></a></li>
          <li><a href="/apps/frontend.html"><span>frontend</span></a></li>
          <li><a href="/apps/government-frontend.html" class="toc-link--in-view"><span>government-frontend</span></a></li>
          <li><a href="/apps/info-frontend.html"><span>info-frontend</span></a></li>
          <li><a href="/apps/licence-finder.html"><span>licence-finder</span></a></li>
          <li><a href="/apps/manuals-frontend.html"><span>manuals-frontend</span></a></li>
          <li><a href="/apps/service-manual-frontend.html"><span>service-manual-frontend</span></a></li>
          <li><a href="/apps/smart-answers.html"><span>smart-answers</span></a></li>
          <li><a href="/apps/static.html"><span>static</span></a></li>
        </ul>
      </li>
      <li>
        <a href="/apps.html">
          <span>data.gov.uk apps</span>
        </a>
      </li>
      <li>
        <ul class='subnav'>
          <li><a href="/apps/ckanext-datagovuk.html"><span>ckanext-datagovuk</span></a></li>
          <li><a href="/apps/datagovuk_find.html"><span>datagovuk_find</span></a></li>
          <li><a href="/apps/datagovuk_publish.html"><span>datagovuk_publish</span></a></li>
          <li><a href="/apps/datagovuk_reference.html"><span>datagovuk_reference</span></a></li>
        </ul>
      </li>
      <li>
        <a href="/apps.html">
          <span>Publishing apps</span>
        </a>
      </li>
      <li>
        <ul class='subnav'>
          <li><a href="/apps/collections-publisher.html"><span>collections-publisher</span></a></li>
          <li><a href="/apps/contacts-admin.html"><span>contacts-admin</span></a></li>
          <li><a href="/apps/content-publisher.html"><span>content-publisher</span></a></li>
          <li><a href="/apps/content-tagger.html"><span>content-tagger</span></a></li>
          <li><a href="/apps/local-links-manager.html"><span>local-links-manager</span></a></li>
          <li><a href="/apps/manuals-publisher.html"><span>manuals-publisher</span></a></li>
          <li><a href="/apps/maslow.html"><span>maslow</span></a></li>
          <li><a href="/apps/publisher.html"><span>publisher</span></a></li>
          <li><a href="/apps/service-manual-publisher.html"><span>service-manual-publisher</span></a></li>
          <li><a href="/apps/short-url-manager.html"><span>short-url-manager</span></a></li>
          <li><a href="/apps/specialist-publisher.html"><span>specialist-publisher</span></a></li>
          <li><a href="/apps/travel-advice-publisher.html"><span>travel-advice-publisher</span></a></li>
          <li><a href="/apps/whitehall.html"><span>whitehall</span></a></li>
        </ul>
      </li>
      <li>
        <a href="/apps.html">
          <span>Utilities</span>
        </a>
      </li>
      <li>
        <ul class='subnav'>
          <li><a href="/apps/govuk-alert-tracker.html"><span>govuk-alert-tracker</span></a></li>
          <li><a href="/apps/govuk-content-store-examples.html"><span>govuk-content-store-examples</span></a></li>
          <li><a href="/apps/govuk-dependencies.html"><span>govuk-dependencies</span></a></li>
          <li><a href="/apps/govuk-display-screen.html"><span>govuk-display-screen</span></a></li>
          <li><a href="/apps/govuk-pact-broker.html"><span>govuk-pact-broker</span></a></li>
          <li><a href="/apps/govuk-puppet.html"><span>govuk-puppet</span></a></li>
          <li><a href="/apps/govuk-secondline-blinken.html"><span>govuk-secondline-blinken</span></a></li>
          <li><a href="/apps/govuk-zendesk-display-screen.html"><span>govuk-zendesk-display-screen</span></a></li>
          <li><a href="/apps/seal.html"><span>seal</span></a></li>
          <li><a href="/apps/search-performance-explorer.html"><span>search-performance-explorer</span></a></li>
          <li><a href="/apps/side-by-side-browser.html"><span>side-by-side-browser</span></a></li>
          <li><a href="/apps/tech-docs-monitor.html"><span>tech-docs-monitor</span></a></li>
        </ul>
      </li>
      <li>
        <a href="/apps.html">
          <span>Data science</span>
        </a>
      </li>
      <li>
        <ul class='subnav'>
          <li><a href="/apps/govuk-knowledge-graph.html"><span>govuk-knowledge-graph</span></a></li>
          <li><a href="/apps/govuk-related-links-recommender.html"><span>govuk-related-links-recommender</span></a></li>
        </ul>
      </li>
      <li>
        <a href="/apps.html">
          <span>Licensing apps</span>
        </a>
      </li>
      <li>
        <ul class='subnav'>
          <li><a href="/apps/licensify.html"><span>licensify</span></a></li>
        </ul>
      </li>
  </ul>

              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
              <h1 class="page-title">Application: government-frontend</h1>

  <p>Serves government pages on GOV.UK</p>

<h2 id="ownership">Ownership</h2>

<p><strong>#govuk-platform-health</strong> owns the application and is responsible for updating its dependencies.</p>

<h2 id="hosting">Hosting</h2>

<p>The production version of this application is hosted on <strong>AWS</strong>.</p>

<h3 id="ssh-access-aws">SSH Access (AWS)</h3>

<div class="highlight"><pre class="highlight shell"><code>gds govuk connect ssh <span class="nt">-e</span> integration draft_frontend
gds govuk connect ssh <span class="nt">-e</span> staging aws/draft_frontend
gds govuk connect ssh <span class="nt">-e</span> production aws/draft_frontend
</code></pre></div>
<h2 id="run-a-rake-task">Run a rake task</h2>

<ul>
  <li><a href="https://deploy.integration.publishing.service.gov.uk/job/run-rake-task/parambuild/?TARGET_APPLICATION=government-frontend&amp;MACHINE_CLASS=draft_frontend&amp;RAKE_TASK=">Run a Rake task on Integration</a></li>
<li><a href="https://deploy.blue.staging.govuk.digital/job/run-rake-task/parambuild/?TARGET_APPLICATION=government-frontend&amp;MACHINE_CLASS=draft_frontend&amp;RAKE_TASK=">Run a Rake task on Staging</a></li>
<li><a href="https://deploy.blue.production.govuk.digital/job/run-rake-task/parambuild/?TARGET_APPLICATION=government-frontend&amp;MACHINE_CLASS=draft_frontend&amp;RAKE_TASK=">⚠️ Run a Rake task on Production ⚠️</a></li>
</ul>

<h2 id="links">Links</h2>

<ul>
  <li><a href="https://github.com/alphagov/government-frontend">GitHub repo</a></li>

    <li><a href="https://sentry.io/govuk/app-government-frontend">Sentry (error tracking)</a></li>


    <li><a href="https://github.com/alphagov/govuk-puppet/blob/master/modules/govuk/manifests/apps/government_frontend.pp">Puppet configuration</a></li>

    <li><a href="https://github.com/alphagov/govuk-app-deployment/blob/master/government-frontend/config/deploy.rb">Deploy scripts</a></li>

    <li><a href="https://grafana.production.govuk.digital/dashboard/file/government-frontend.json">Deployment dashboard</a></li>

    <li><a href="https://github.com/alphagov/publishing-e2e-tests/search?q=%22government_frontend%3A+true%22+path%3A%2Fspec%2F">Publishing E2E scenarios</a> (warning: not all apps have E2E tests)</li>


    <li><a href="https://government-frontend.herokuapp.com/component-guide">Component guide</a></li>


</ul>

<h3 id="relevant-manual-pages">Relevant manual pages</h3>

<ul>
  <li><a href="/manual/howto-add-organisation-brand-colour.html">Add an organisation's brand colour</a></li>
</ul>

<h2 id="example-pages-published-by-government-frontend">Example pages published by government-frontend</h2>

<ul>
    <li><a href="https://www.gov.uk/government/history/10-downing-street">History of 10 Downing Street</a></li>
    <li><a href="https://www.gov.uk/government/history/lancaster-house">History of Lancaster House (FCDO)</a></li>
    <li><a href="https://www.gov.uk/government/history/king-charles-street">History of King Charles Street (FCDO)</a></li>
    <li><a href="https://www.gov.uk/government/history/11-downing-street">History of 11 Downing Street</a></li>
    <li><a href="https://www.gov.uk/government/history/1-horse-guards-road">History of 1 Horse Guards Road</a></li>
    <li><a href="https://www.gov.uk/government/history">History of the UK government</a></li>
</ul>

<h2 id="example-pages-rendered-by-government-frontend">Example pages rendered by government-frontend</h2>

<ul>
  <li><a href="https://www.gov.uk/get-coronavirus-test">Get a free NHS test to check if you have coronavirus</a></li>
  <li><a href="https://www.gov.uk/log-in-register-hmrc-online-services">HMRC services: sign in or register</a></li>
  <li><a href="https://www.gov.uk/universal-credit">Universal Credit</a></li>
  <li><a href="https://www.gov.uk/uk-border-control">Entering the UK</a></li>
  <li><a href="https://www.gov.uk/foreign-travel-advice/spain">Spain travel advice</a></li>
  <li><a href="https://www.gov.uk/log-in-file-self-assessment-tax-return">File your Self Assessment tax return online</a></li>
  <li><a href="https://www.gov.uk/settled-status-eu-citizens-families">Apply to the EU Settlement Scheme (settled and pre-settled status)</a></li>
  <li><a href="https://www.gov.uk/self-assessment-tax-returns">Self Assessment tax returns</a></li>
  <li><a href="https://www.gov.uk/pay-self-assessment-tax-bill">Pay your Self Assessment tax bill</a></li>
  <li><a href="https://www.gov.uk/pay-dartford-crossing-charge">Pay the Dartford Crossing charge (Dart Charge)</a></li>
</ul>

<h2 id="readme">README</h2>

<div class="govuk-warning-text">
    <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
    <strong class="govuk-warning-text__text">
      <span class="govuk-warning-text__assistive">Warning</span>
      The content below is pulled in directly from the repository.<br />
      Links might not function properly.
    </strong>
  </div>

<div class="embedded-readme">
    
<p>Government Frontend is a public-facing app to display the majority of documents
on the /government part of GOV.UK. It is a replacement for the public-facing
parts of the <a href="https://github.com/alphagov/whitehall">Whitehall</a> application.</p>
<h2 id="screenshots">Screenshots</h2>
<p><img src="https://raw.githubusercontent.com/alphagov/government-frontend/master/docs/assets/case-study-screenshot.png" alt="A Case Study" /></p>
<h2 id="schemas">Schemas</h2>
<p>Not all schemas that this app can handle are rendered by it in production.</p>
<table>
<thead>
<tr>
<th>Schema</th>
<th>Live example</th>
<th>Production status</th>
</tr>
</thead>
<tbody>
<tr>
<td>Answer</td>
<td><a href="https://www.gov.uk/national-minimum-wage-rates">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Case study</td>
<td><a href="https://www.gov.uk/government/case-studies/2013-elections-in-swaziland">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Coming soon</td>
<td></td>
<td>Migrated</td>
</tr>
<tr>
<td>Consultation</td>
<td><a href="https://www.gov.uk/government/consultations/soft-drinks-industry-levy">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Contacts</td>
<td><a href="https://www.gov.uk/government/organisations/hm-revenue-customs/contact/alcohol-duties-national-registration-unit">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Corporate information page</td>
<td><a href="https://www.gov.uk/government/organisations/government-digital-service/about">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Detailed guide</td>
<td><a href="https://www.gov.uk/guidance/waste-exemption-nwfd-2-temporary-storage-at-the-place-of-production--2">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Document collection</td>
<td><a href="https://www.gov.uk/government/collections/statutory-guidance-schools">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Fatality notice</td>
<td><a href="https://www.gov.uk/government/fatalities/corporal-lee-churcher-dies-in-iraq">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Help page</td>
<td><a href="https://www.gov.uk/help/about-govuk">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>HTML Publication</td>
<td><a href="https://www.gov.uk/government/publications/budget-2016-documents/budget-2016">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>News Article</td>
<td><a href="https://www.gov.uk/government/news/the-personal-independence-payment-amendment-regulations-2017-statement-by-paul-gray">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Publication</td>
<td><a href="https://www.gov.uk/government/publications/budget-2016-documents">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Specialist document</td>
<td><a href="https://www.gov.uk/business-finance-support/access-to-finance-advice-north-west-england">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Statistics announcement</td>
<td><a href="https://www.gov.uk/government/statistics/announcements/diagnostic-imaging-dataset-for-september-2015">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Statistical data set</td>
<td><a href="https://www.gov.uk/government/statistical-data-sets/unclaimed-estates-list">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Speech</td>
<td><a href="https://www.gov.uk/government/speeches/government-at-your-service-ben-gummer-speech">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Take part</td>
<td><a href="https://www.gov.uk/government/get-involved/take-part/become-a-councillor">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Topical event about page</td>
<td><a href="https://www.gov.uk/government/topical-events/2014-overseas-territories-joint-ministerial-council/about">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Travel advice</td>
<td><a href="https://www.gov.uk/foreign-travel-advice/nepal">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Unpublishing</td>
<td></td>
<td>Rendered by Whitehall, might not be migrated</td>
</tr>
<tr>
<td>World Location News Article</td>
<td><a href="https://www.gov.uk/government/world-location-news/changes-to-secure-english-language-test-providers-for-uk-visas">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
<tr>
<td>Working group</td>
<td><a href="https://www.gov.uk/government/groups/abstraction-reform">View on GOV.UK</a></td>
<td>Migrated</td>
</tr>
</tbody>
</table>
<h2 id="components">Components</h2>
<p>Pages are rendered using components. Components can be specific to government-frontend or shared between applications.</p>
<p>Shared components are provided by govuk_publishing_components and are documented in the <a href="https://components.publishing.service.gov.uk/component-guide">component guide</a>.</p>
<p>Components specific to government-frontend are <a href="https://github.com/alphagov/government-frontend/tree/master/app/views/components">within the application</a> and follow rules set out by the <a href="https://github.com/alphagov/govuk_publishing_components">govuk_publishing_components</a> gem. They are documented in the <a href="https://government-frontend.herokuapp.com/component-guide">government-frontend component guide</a>.</p>
<p>When <a href="#running-the-application">running government-frontend</a> locally the component guide is available at: <a href="http://government-frontend.dev.gov.uk/component-guide">http://government-frontend.dev.gov.uk/component-guide</a></p>
<p>Configuration for the navigation links shown on the B variant of the ContentPagesNav A/B test is covered <a href="/apps/government-frontend/navigation-links.html">separately</a></p>
<h2 id="technical-documentation">Technical documentation</h2>
<p>This is a Ruby on Rails application that fetches documents from
<a href="https://github.com/alphagov/content-store">content-store</a> and displays them.</p>
<h3 id="dependencies">Dependencies</h3>
<ul>
<li>
<a href="https://github.com/alphagov/content-store">content-store</a> - provides documents</li>
<li>
<a href="https://github.com/alphagov/static">static</a> - provides shared GOV.UK assets and templates.</li>
<li>
<a href="http://phantomjs.org/">phantomjs</a> Used by poltergeist for integration testing</li>
<li>
<a href="http://brewformulas.org/Imagemagick">ImageMagick</a> Used by Wraith for visual regression testing</li>
</ul>
<h3 id="running-the-application">Running the application</h3>
<pre><code>./startup.sh
</code></pre>
<p>The app should start on <a href="http://localhost:3090">http://localhost:3090</a> or
<a href="http://government-frontend.dev.gov.uk">http://government-frontend.dev.gov.uk</a> on GOV.UK development machines.</p>
<pre><code>./startup.sh --live
</code></pre>
<p>This will run the app and point it at the production GOV.UK <code>content-store</code> and <code>static</code> instances.</p>
<pre><code>./startup.sh --dummy
</code></pre>
<p>This will run the app and point it at the <a href="https://govuk-content-store-examples.herokuapp.com/">dummy content store</a>, which serves the content schema examples and random content.</p>
<h3 id="running-the-test-suite">Running the test suite</h3>
<p>The test suite relies on the presence of the
<a href="http://github.com/alphagov/govuk-content-schemas">govuk-content-schemas</a>
repository. If it is present at the same directory level as
the government-frontend repository then run the tests with:</p>
<p><code>bundle exec rake</code></p>
<p>Or to specify the location explicitly:</p>
<p><code>GOVUK_CONTENT_SCHEMAS_PATH=/some/dir/govuk-content-schemas bundle exec rake</code></p>
<h4 id="debugging-integration-tests">Debugging Integration tests</h4>
<p>If you want to see the page that is being tested in our integration tests, you can use
<code>save_and_open_page</code> to see what's rendered. This is helpful when a page is mostly comprised of
GOV.UK Publishing Components</p>
<h3 id="visual-regression-tests">Visual regression tests</h3>
<p>Use <a href="http://bbc-news.github.io/wraith/">Wraith</a> ("A responsive screenshot
comparison tool") to generate a visual diff to compare rendering changes in this
application.</p>
<h4 id="compare-with-production">Compare with production</h4>
<p>Compare development with production:</p>
<pre><code>bundle exec wraith capture test/wraith/config.yaml
</code></pre>
<p>Compare staging with production:</p>
<pre><code>bundle exec wraith capture test/wraith/config-staging-vs-production.yaml
</code></pre>
<p>This will generate image diffs comparing the two runs, including a browsable
gallery of the output, located at <code>shots/gallery.html</code>.</p>
<h4 id="compare-examples-on-master-with-examples-on-branch">Compare examples on master with examples on branch</h4>
<p>Examples are referencing <a href="https://github.com/alphagov/govuk-content-schemas">https://github.com/alphagov/govuk-content-schemas</a></p>
<p>With government-frontend running master on the development VM and while <a href="https://github.com/alphagov/govuk-content-schemas/blob/master/docs/running-frontend-against-examples.md">pointing at the dummy content store</a>, create a set of historical screenshots using:</p>
<pre><code>cd test/wraith
bundle exec wraith history test/wraith/config-examples.yaml
</code></pre>
<p>Then switch to your branch and create a set of screenshots to compare against using:</p>
<pre><code>bundle exec wraith latest test/wraith/config-examples.yaml
</code></pre>
<h4 id="compare-a-document_type">Compare a document_type</h4>
<p>A rake task has been made to make this easy, given a <code>document_type</code> of <code>about</code></p>
<pre><code>bundle exec rake wraith:document_type[about]
</code></pre>
<p>this will run against the 10 most popular pages as defined by the search api</p>
<h4 id="compare-all-document_types">Compare all document_types</h4>
<pre><code>bundle exec rake wraith:all_document_types[:sample_size]
</code></pre>
<p>This will run against the 10 (can be overidden with <code>:sample_size</code>) most popular pages as defined by the search api,
for each known <code>document_type</code> in the app (see: <a href="#generate-a-config-for-known-document_types-and-example-pages">Generate a config for known document_types and example pages</a>).</p>
<p><em>Note:</em> If you wish to have your own local wip configs, wip* is in the .gitignore, so as an example
<code>wip-kittens.yaml</code> will be ignored</p>
<h4 id="generate-a-config-for-known-document_types-and-example-pages">Generate a config for known document_types and example pages</h4>
<p>Running the rake task below will retrieve the <code>document_types</code> where <code>rendering_app = government-frontend</code> from the search api. It will then generate <code>test/wraith/wip-config-all-document-types.yaml</code>, this is a wraith config file containing the top 10 (can be overidden with <code>:sample_size</code>) example pages for each type.</p>
<p>The yaml file contains a custom key of <code>:document_types</code> not used by wraith but can be used to quickly scan and see which types the search api believes <code>government-frontend</code> is responsible for.</p>
<pre><code>bundle exec rake wraith:update_document_types[:sample_size]
</code></pre>
<h2 id="webchat">Webchat</h2>
<h3 id="how-to-add-a-new-webchat-provider">How to add a new webchat provider</h3>
<ol>
<li>Open to <code>lib/webchat.yaml</code>
</li>
<li>Append new entry:</li>
</ol>
<pre lang="yaml"><code>- base_path: /government/contact/my-amazing-service
  open_url: https://www.my-amazing-webchat.com/007/open-chat
  availability_url: https://www.my-amazing-webchat.com/007/check-availability
</code></pre>
<ol start="3">
<li>Deploy changes</li>
<li>Go to <a href="https://www.gov.uk/government/contact/my-amazing-service">https://www.gov.uk/government/contact/my-amazing-service</a>
</li>
<li>Finished</li>
</ol>
<h3 id="cors-considerations">CORS considerations</h3>
<p>To avoid CORS and CSP issues a new provider would need to be added to the Content Security Policy</p>
<h3 id="required-configuration">Required configuration</h3>
<h4 id="base-path">Base path</h4>
<p>This is the base path of a contact page, for example, <code>/government/organisations/hm-revenue-customs/contact/child-benefit</code>.
This path should always be a contact page, any other content page type will result in the webchat component not being loaded.</p>
<h4 id="availability-url">Availability URL</h4>
<p>This URL is used to check the availability of agents at regular intervals.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>Request Method</td>
<td>GET</td>
</tr>
<tr>
<td>Response Format</td>
<td>JSON/JSONP (Default to JSONP)</td>
</tr>
<tr>
<td>Request Example</td>
<td>{"status":"success","response":"BUSY"}</td>
</tr>
<tr>
<td>Valid statuses</td>
<td>["BUSY", "UNAVAILABLE", "AVAILABLE","ONLINE", "OFFLINE", "ERROR"]</td>
</tr>
</tbody>
</table>
<h4 id="open-url">Open URL</h4>
<p>This url is used to start a webchat session.
This url should not include session ids or require anything specific parameters to be generated.</p>
<h3 id="optional-configuration-options">Optional Configuration options</h3>
<h4 id="browser-window-behaviour">Browser window behaviour</h4>
<p>By default the chat session would open in an a separate browser window. An additional value can be added to the yaml entry that will allow the web chat to remain in the current browser window.</p>
<pre lang="yaml"><code>  open_url_redirect: true
</code></pre>
<h4 id="payload-format">Payload format</h4>
<p>The default response from the api as used by HMRC webchat provider is JSONP. To add a provider that responds using JSON the following entry needs to be added.</p>
<pre lang="yaml"><code>  availability_payload_format: json
</code></pre>
<h2 id="licence">Licence</h2>
<p><a href="https://github.com/alphagov/government-frontend/blob/master/LICENCE">MIT License</a></p>
  </div>



            
          </main>

          <aside>
              <ul class="contribution-banner">
                <li><a href="https://github.com/alphagov/govuk-developer-docs/blob/master/data/applications.yml">View source</a></li>
                <li><a href="https://github.com/alphagov/govuk-developer-docs/issues/new?labels=bug&amp;title=Re:%20''&amp;body=Problem%20with%20''%20(https://docs.publishing.service.gov.uk/apps/government-frontend.html)">Report problem</a></li>
                <li><a href="https://github.com/alphagov/govuk-developer-docs">GitHub Repo</a></li>
              </ul>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">

        <ul class="govuk-footer__inline-list">
            <li class="govuk-footer__inline-list-item">
              <a class="govuk-footer__link" href="/accessibility.html">Accessibility</a>
            </li>
        </ul>

      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="/javascripts/application.js"></script>
  </body>
</html>
